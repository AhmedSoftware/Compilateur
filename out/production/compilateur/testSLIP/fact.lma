00000   LDA  11, 0 
00004   LDA  12, 354
00008   LDA  13, 65492
00012   JUMP 10, 26
00016   LDM  14, 65488
00020   HALT  0, 0 
00022   JUMP  0, 20
// Begin of main
// Assez de place pour un nouveau frame ?
00026   LDA   0, 00032 (12)
00030   COMP 13, 0 
00032   JGE   0, 00046
65532   LIT  C'ERR:'
00036   LDM  14, 65532
65528   LIT  C'OVFL'
00040   LDM  15, 65528
00044   HALT  0, 0 
00046   STM  11, 00024 (12)
00050   STM  10, 00028 (12)
00054   LDA  11, 00000 (12)
00058   ADDA 12, 00032
00062   JUMP  0, 00086 (0)
00066   LDM   0, 00000 (11)
00070   LDA  12, 00000 (11)
00074   LDM  11, 00024 (12)
00078   LDM  10, 00028 (12)
00082   JUMP  0, 00000 (10)
// @1 read x#1 -> @2
65524   LIT  C' IN:'
00086   LDM  14, 65524
00090   HALT  0, 0 
00092   STM  15, 00004 (11)
// @2 #3 := x#1 -> @3
00096   LDM   0, 00004 (11)
00100   STM   0, 00012 (11)
// @3 #4 := fact(#3) -> 4
// Assez de place pour les paramètres ?
00104   LDA   0, 00008 (12)
00108   COMP 13, 0 
00110   JGE   0, 00124 (0)
00114   LDM  14, 65532
00118   LDM  15, 65528
00122   HALT  0, 0 
00124   LDM   0, 00012 (11)
00128   STM   0, 00004 (12)
00132   JUMP 10, 170
00136   STM   0, 00016 (11)
// @4 y#2 := #4 -> @5
00140   LDM   0, 00016 (11)
00144   STM   0, 00008 (11)
// @5 #3 := y#2 -> @6
00148   LDM   0, 00008 (11)
00152   STM   0, 00012 (11)
// @6 write #3 -> @7
00156   LDM  15, 00012 (11)
65512   LIT  C'OUT:'
00160   LDM  14, 65512
00164   HALT  0, 0 
00166   JUMP  0, 00066 (0)
// End of main
// Begin of fact
// Assez de place pour un nouveau frame ?
00170   LDA   0, 00028 (12)
00174   COMP 13, 0 
00176   JGE   0, 00190
00180   LDM  14, 65532
00184   LDM  15, 65528
00188   HALT  0, 0 
00190   STM  11, 00020 (12)
00194   STM  10, 00024 (12)
00198   LDA  11, 00000 (12)
00202   ADDA 12, 00028
00206   JUMP  0, 00230 (0)
00210   LDM   0, 00000 (11)
00214   LDA  12, 00000 (11)
00218   LDM  11, 00020 (12)
00222   LDM  10, 00024 (12)
00226   JUMP  0, 00000 (10)
// @1 z#2 := 1 -> @2
65500   LIT  I(1)
00230   LDM   0, 65500
00234   STM   0, 00008 (11)
// @2 #3 := x#1 -> @3
00238   LDM   0, 00004 (11)
00242   STM   0, 00012 (11)
// @3 #4 := 0 -> @4
65496   LIT  I(0)
00246   LDM   0, 65496
00250   STM   0, 00016 (11)
// @4 if #3 < #4 then -> @6 else -> @5
00254   LDM   0, 00012 (11)
00258   LDM   1, 00016 (11)
00262   COMP  0, 1 
00264   JL    0, 294
00268   JUMP  0, 276
// @5 if #4 < #3 then -> @6 else -> @10
00276   LDM   0, 00016 (11)
00280   LDM   1, 00012 (11)
00284   COMP  0, 1 
00286   JL    0, 294
00290   JUMP  0, 342
// @6 #3 := z#2*x#1 -> @7
00294   LDM   0, 00008 (11)
00298   LDM   1, 00004 (11)
00302   MUL   0, 1 
00304   STM   0, 00012 (11)
// @7 z#2 := #3 -> @8
00308   LDM   0, 00012 (11)
00312   STM   0, 00008 (11)
// @8 #3 := x#1-1 -> @9
00316   LDM   0, 00004 (11)
00320   LDM   1, 65500
00324   SUB   0, 1 
00326   STM   0, 00012 (11)
// @9 x#1 := #3 -> @2
00330   LDM   0, 00012 (11)
00334   STM   0, 00004 (11)
00338   JUMP  0, 00238 (0)
// @10 factResult#0 := z#2 -> @11
00342   LDM   0, 00008 (11)
00346   STM   0, 00000 (11)
00350   JUMP  0, 00210 (0)
// End of fact
65488   LIT  C'STOP'

