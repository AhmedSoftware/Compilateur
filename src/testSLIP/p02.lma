00000   LDA  11, 0 
00004   LDA  12, 684
00008   LDA  13, 65444
00012   JUMP 10, 26
00016   LDM  14, 65448
00020   HALT  0, 0 
00022   JUMP  0, 20
// Begin of main
// Assez de place pour un nouveau frame ?
00026   LDA   0, 00028 (12)
00030   COMP 13, 0 
00032   JGE   0, 00046
65532   LIT  C'ERR:'
00036   LDM  14, 65532
65528   LIT  C'OVFL'
00040   LDM  15, 65528
00044   HALT  0, 0 
00046   STM  11, 00020 (12)
00050   STM  10, 00024 (12)
00054   LDA  11, 00000 (12)
00058   ADDA 12, 00028
00062   JUMP  0, 00086 (0)
00066   LDM   0, 00000 (11)
00070   LDA  12, 00000 (11)
00074   LDM  11, 00020 (12)
00078   LDM  10, 00024 (12)
00082   JUMP  0, 00000 (10)
// @1 i#1 := 0 -> @2
65524   LIT  I(0)
00086   LDM   0, 65524
00090   STM   0, 00004 (11)
// @2 #2 := i#1 -> @3
00094   LDM   0, 00004 (11)
00098   STM   0, 00008 (11)
// @3 #3 := 10 -> @4
65520   LIT  I(10)
00102   LDM   0, 65520
00106   STM   0, 00012 (11)
// @4 if #2 < #3 then -> @6 else -> @5
00110   LDM   0, 00008 (11)
00114   LDM   1, 00012 (11)
00118   COMP  0, 1 
00120   JL    0, 150
00124   JUMP  0, 132
// @5 if #2 = #3 then -> @6 else -> @12
00132   LDM   0, 00008 (11)
00136   LDM   1, 00012 (11)
00140   COMP  0, 1 
00142   JE    0, 150
00146   JUMP  0, 66
// @6 #2 := i#1 -> @7
00150   LDM   0, 00004 (11)
00154   STM   0, 00008 (11)
// @7 #3 := f(#2) -> 8
// Assez de place pour les paramètres ?
00158   LDA   0, 00008 (12)
00162   COMP 13, 0 
00164   JGE   0, 00178 (0)
00168   LDM  14, 65532
00172   LDM  15, 65528
00176   HALT  0, 0 
00178   LDM   0, 00008 (11)
00182   STM   0, 00004 (12)
00186   JUMP 10, 238
00190   STM   0, 00012 (11)
// @8 #2 := #3 -> @9
00194   LDM   0, 00012 (11)
00198   STM   0, 00008 (11)
// @9 write #2 -> @10
00202   LDM  15, 00008 (11)
65508   LIT  C'OUT:'
00206   LDM  14, 65508
00210   HALT  0, 0 
// @10 #2 := i#1+1 -> @11
00212   LDM   0, 00004 (11)
65504   LIT  I(1)
00216   LDM   1, 65504
00220   ADD   0, 1 
00222   STM   0, 00008 (11)
// @11 i#1 := #2 -> @2
00226   LDM   0, 00008 (11)
00230   STM   0, 00004 (11)
00234   JUMP  0, 00094 (0)
// End of main
// Begin of f
// Assez de place pour un nouveau frame ?
00238   LDA   0, 00052 (12)
00242   COMP 13, 0 
00244   JGE   0, 00258
00248   LDM  14, 65532
00252   LDM  15, 65528
00256   HALT  0, 0 
00258   STM  11, 00044 (12)
00262   STM  10, 00048 (12)
00266   LDA  11, 00000 (12)
00270   ADDA 12, 00052
00274   JUMP  0, 00298 (0)
00278   LDM   0, 00000 (11)
00282   LDA  12, 00000 (11)
00286   LDM  11, 00044 (12)
00290   LDM  10, 00048 (12)
00294   JUMP  0, 00000 (10)
// @1 #4 := i#1 -> @2
00298   LDM   0, 00004 (11)
00302   STM   0, 00016 (11)
// @2 #5 := 1 -> @3
00306   LDM   0, 65504
00310   STM   0, 00020 (11)
// @3 if #4 < #5 then -> @5 else -> @4
00314   LDM   0, 00016 (11)
00318   LDM   1, 00020 (11)
00322   COMP  0, 1 
00324   JL    0, 354
00328   JUMP  0, 336
// @4 if #4 = #5 then -> @5 else -> @6
00336   LDM   0, 00016 (11)
00340   LDM   1, 00020 (11)
00344   COMP  0, 1 
00346   JE    0, 354
00350   JUMP  0, 366
// @5 fResult#0 := i#1 -> @29
00354   LDM   0, 00004 (11)
00358   STM   0, 00000 (11)
00362   JUMP  0, 00278 (0)
// @6 r#2 := 0 -> @7
00366   LDM   0, 65524
00370   STM   0, 00008 (11)
// @7 j#3 := 1 -> @8
00374   LDM   0, 65504
00378   STM   0, 00012 (11)
// @8 #4 := j#3 -> @9
00382   LDM   0, 00012 (11)
00386   STM   0, 00016 (11)
// @9 #5 := i#1-1 -> @10
00390   LDM   0, 00004 (11)
00394   LDM   1, 65504
00398   SUB   0, 1 
00400   STM   0, 00020 (11)
// @10 #5 := #5 -> @11
00404   LDM   0, 00020 (11)
00408   STM   0, 00020 (11)
// @11 if #4 < #5 then -> @13 else -> @12
00412   LDM   0, 00016 (11)
00416   LDM   1, 00020 (11)
00420   COMP  0, 1 
00422   JL    0, 452
00426   JUMP  0, 434
// @12 if #4 = #5 then -> @13 else -> @28
00434   LDM   0, 00016 (11)
00438   LDM   1, 00020 (11)
00442   COMP  0, 1 
00444   JE    0, 452
00448   JUMP  0, 672
// @13 #4 := j#3 -> @14
00452   LDM   0, 00012 (11)
00456   STM   0, 00016 (11)
// @14 #5 := f(#4) -> 15
// Assez de place pour les paramètres ?
00460   LDA   0, 00008 (12)
00464   COMP 13, 0 
00466   JGE   0, 00480 (0)
00470   LDM  14, 65532
00474   LDM  15, 65528
00478   HALT  0, 0 
00480   LDM   0, 00016 (11)
00484   STM   0, 00004 (12)
00488   JUMP 10, 238
00492   STM   0, 00020 (11)
// @15 #6 := i#1-j#3 -> @16
00496   LDM   0, 00004 (11)
00500   LDM   1, 00012 (11)
00504   SUB   0, 1 
00506   STM   0, 00024 (11)
// @16 #6 := #6 -> @17
00510   LDM   0, 00024 (11)
00514   STM   0, 00024 (11)
// @17 #7 := f(#6) -> 18
// Assez de place pour les paramètres ?
00518   LDA   0, 00008 (12)
00522   COMP 13, 0 
00524   JGE   0, 00538 (0)
00528   LDM  14, 65532
00532   LDM  15, 65528
00536   HALT  0, 0 
00538   LDM   0, 00024 (11)
00542   STM   0, 00004 (12)
00546   JUMP 10, 238
00550   STM   0, 00028 (11)
// @18 #8 := #5+#7 -> @19
00554   LDM   0, 00020 (11)
00558   LDM   1, 00028 (11)
00562   ADD   0, 1 
00564   STM   0, 00032 (11)
// @19 #9 := r#2+#8 -> @20
00568   LDM   0, 00008 (11)
00572   LDM   1, 00032 (11)
00576   ADD   0, 1 
00578   STM   0, 00036 (11)
// @20 r#2 := #9 -> @21
00582   LDM   0, 00036 (11)
00586   STM   0, 00008 (11)
// @21 #4 := r#2 -> @22
00590   LDM   0, 00008 (11)
00594   STM   0, 00016 (11)
// @22 #5 := 12345 -> @23
65460   LIT  I(12345)
00598   LDM   0, 65460
00602   STM   0, 00020 (11)
// @23 if #5 < #4 then -> @24 else -> @26
00606   LDM   0, 00020 (11)
00610   LDM   1, 00016 (11)
00614   COMP  0, 1 
00616   JL    0, 624
00620   JUMP  0, 646
// @24 #4 := r#2-12345 -> @25
00624   LDM   0, 00008 (11)
00628   LDM   1, 65460
00632   SUB   0, 1 
00634   STM   0, 00016 (11)
// @25 r#2 := #4 -> @26
00638   LDM   0, 00016 (11)
00642   STM   0, 00008 (11)
// @26 #4 := j#3+1 -> @27
00646   LDM   0, 00012 (11)
00650   LDM   1, 65504
00654   ADD   0, 1 
00656   STM   0, 00016 (11)
// @27 j#3 := #4 -> @8
00660   LDM   0, 00016 (11)
00664   STM   0, 00012 (11)
00668   JUMP  0, 00382 (0)
// @28 fResult#0 := r#2 -> @29
00672   LDM   0, 00008 (11)
00676   STM   0, 00000 (11)
00680   JUMP  0, 00278 (0)
// End of f
65448   LIT  C'STOP'

